{% load static %}

{% load humanize %}

<!DOCTYPE html>
<html lang="en">

<head>

	<title>Coza Store</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="{% static 'products/images/icons/favicon.png' %}" />
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/bootstrap/css/bootstrap.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css"
		href="{% static 'products/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css"
		href="{% static 'products/fonts/iconic/css/material-design-iconic-font.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/fonts/linearicons-v1.0.0/icon-font.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/animate/animate.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/css-hamburgers/hamburgers.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/animsition/css/animsition.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/select2/select2.min.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/daterangepicker/daterangepicker.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/slick/slick.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/vendor/MagnificPopup/magnific-popup.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css"
		href="{% static 'products/vendor/perfect-scrollbar/perfect-scrollbar.css' %}">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'products/css/util.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'products/css/main.css' %}">
	<!--===============================================================================================-->
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

	<style>
		.empty-cart .btn, .login-required .btn {
			border: none;
			background-color: #717fe0;
			color: #fff;
			border-radius: 5px;
			text-transform: uppercase;
			transition: background-color 0.3s; 
		}
		
		.empty-cart .btn:hover, .login-required .btn:hover {
			background-color: #525eb3;
		}
		.dropdown {
			position: relative;
			display: inline-block;
		}
		
		.dropdown-menu {
			display: none;
			position: absolute;
			background-color: #e6e6e6;
			min-width: 160px;
			box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
			z-index: 9999;
			top: 100%;
			left: 0;
		}
		
		.dropdown-menu .dropdown-item {
			color: black;
			padding: 8px 16px;
			text-decoration: none;
			display: block;
			font-size: 0.95rem;
		}
		
		.dropdown-menu .dropdown-item:hover {
			color: black;
			background-color: #f1f1f1;
		}
		
		.dropdown:hover .dropdown-menu {
			display: block;
		}
	</style>

    {% block styles %}

    {% endblock %}

</head>

<body class="animsition">
    {% block header %}

    {% endblock %}
		<div class="container-menu-desktop">
			<div class="top-bar">
				<div class="content-topbar flex-sb-m h-full container">
					<div class="left-top-bar">
						Free shipping for standard order over <span style="font-family: Arial, sans-serif;">₹</span>499
					</div>

					<div class="right-top-bar flex-w h-full">
						{% if not request.user.is_authenticated %}
						<div class="dropdown">
							<a href="#" class="flex-c-m trans-04 p-lr-25 dropdown-toggle" id="dropdownMenuButton">
								Login
							</a>
							<div class="dropdown-menu" id="dropdownMenu">
								<a href="{% url 'register' %}" class="dropdown-item">New Customer? <span style="font-weight:bold; color:#333;">Sign Up</span></a>
								<a href="{% url 'login' %}" class="dropdown-item"><i class='bx bx-log-in'></i>&nbsp;&nbsp;Login</a>
							</div>
						</div>
						{% else %}
						<div class="dropdown">
							<a href="#" class="flex-c-m trans-04 p-lr-25 dropdown-toggle" id="dropdownMenuButton">
								Welcome, {{ request.user.first_name }}
							</a>
							<div class="dropdown-menu" id="dropdownMenu">
								<a href="{% url 'profile' %}" class="dropdown-item"><i class='bx bx-user'></i>&nbsp;&nbsp;My Profile</a>
                                <a href="{% url 'orders_list' %}" class="dropdown-item"><i class='bx bx-package'></i>&nbsp;&nbsp;My Orders</a>
								<a href="{% url 'logout' %}" class="dropdown-item"><i class='bx bx-log-out'></i>&nbsp;&nbsp;Logout</a>
							</div>
						</div>
						{% endif %}

						<a href="#" class="flex-c-m trans-04 p-lr-25">
							EN
						</a>

						<a href="#" class="flex-c-m trans-04 p-lr-25">
							IND
						</a>
					</div>
				</div>
			</div>

			{% block shadow1 %}

			{% endblock %}

				<nav class="limiter-menu-desktop container">

					<a href="/" class="logo">
						<img src="{% static 'products/images/icons/logo-01.png' %}" alt="IMG-LOGO">
					</a>

					<div class="menu-desktop">
						{% block menu %}
						
						{% endblock %}
					</div>

					<div class="wrap-icon-header flex-w flex-r-m">
						<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-modal-search">
							<i class="zmdi zmdi-search"></i>
						</div>

                        <div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart"
                            data-notify="{{ cart_items_count }}">
                            <i class="zmdi zmdi-shopping-cart"></i>
                        </div>

                        <a href="{% url 'wishlist_view' %}" class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti"
                        data-notify="{{ wishlist_count }}">
                            <i class="zmdi zmdi-favorite-outline"></i>
                        </a>
					</div>
				</nav>
			</div>
		</div>

		<div class="wrap-header-mobile">
			<div class="logo-mobile">
				<a href="/"><img src="{% static 'products/images/icons/logo-01.png' %}" alt="IMG-LOGO"></a>
			</div>

			<div class="wrap-icon-header flex-w flex-r-m m-r-15">
				<div class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 js-show-modal-search">
					<i class="zmdi zmdi-search"></i>
				</div>

				<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart"
                    data-notify="{{ cart_items_count }}">
                    <i class="zmdi zmdi-shopping-cart"></i>
                </div>

                <a href="{% url 'wishlist_view' %}" class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti"
                data-notify="{{ wishlist_count }}">
                    <i class="zmdi zmdi-favorite-outline"></i>
                </a>
			</div>

			<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
				<span class="hamburger-box">
					<span class="hamburger-inner"></span>
				</span>
			</div>
		</div>

		<div class="menu-mobile">
			<ul class="topbar-mobile">
				<li>
					<div class="left-top-bar">
						Free shipping for standard order over <span style="font-family: Arial, sans-serif;">₹</span>499
					</div>
				</li>

				<li>
					<div class="right-top-bar flex-w h-full">
						{% if not request.user.is_authenticated %}
						<div class="dropdown">
							<a href="#" class="flex-c-m trans-04 p-lr-25 dropdown-toggle" id="dropdownMenuButton">
								Login
							</a>
							<div class="dropdown-menu" id="dropdownMenu">
								<a href="{% url 'register' %}" class="dropdown-item">New Customer? <span style="font-weight:bold; color:#333;">Sign Up</span></a>
								<a href="{% url 'login' %}" class="dropdown-item"><i class='bx bx-log-in'></i>&nbsp;&nbsp;Login</a>
							</div>
						</div>
						{% else %}
						<div class="dropdown">
							<a href="#" class="flex-c-m trans-04 p-lr-25 dropdown-toggle" id="dropdownMenuButton">
								Welcome, {{ request.user.first_name }}
							</a>
							<div class="dropdown-menu" id="dropdownMenu">
								<a href="{% url 'profile' %}" class="dropdown-item"><i class='bx bx-user'></i>&nbsp;&nbsp;My Profile</a>
                                <a href="{% url 'orders_list' %}" class="dropdown-item"><i class='bx bx-package'></i>&nbsp;&nbsp;My Orders</a>
								<a href="{% url 'logout' %}" class="dropdown-item"><i class='bx bx-log-out'></i>&nbsp;&nbsp;Logout</a>
							</div>
						</div>
						{% endif %}

						<a href="#" class="flex-c-m p-lr-10 trans-04">
							EN
						</a>

						<a href="#" class="flex-c-m p-lr-10 trans-04">
							IND
						</a>
					</div>
				</li>
			</ul>

			<ul class="main-menu-m">
				<li>
					<a href="/">Home</a>
				</li>

				<li>
					<a href="{% url 'shop_view' %}">Shop</a>
				</li>

				<li class="label1" data-label1="hot">
					<a href="{% url 'featured_view' %}">Featured</a>
				</li>
			</ul>
		</div>

		<div class="modal-search-header flex-c-m trans-04 js-hide-modal-search">
			<div class="container-search-header">
				<button class="flex-c-m btn-hide-modal-search trans-04 js-hide-modal-search">
					<img src="{% static 'products/images/icons/icon-close2.png' %}" alt="CLOSE">
				</button>

				<form class="wrap-search-header flex-w p-l-15" method="GET" action="{% url 'search_products' %}">
					<button type="submit" class="flex-c-m trans-04">
						<i class="zmdi zmdi-search"></i>
					</button>
					<input class="plh3" type="text" name="search" placeholder="Search...">
				</form>
			</div>
		</div>
	</header>

	<div class="wrap-header-cart js-panel-cart">
		<div class="s-full js-hide-cart"></div>

		<div class="header-cart flex-col-l p-l-65 p-r-25">
			<div class="header-cart-title flex-w flex-sb-m p-b-8">
				<span class="mtext-103 cl2">
					Your Cart
				</span>

				<div class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart">
					<i class="zmdi zmdi-close"></i>
				</div>
			</div>

			{% if cart_items_base %}
			<div class="header-cart-content flex-w js-pscroll">
				
				<ul class="header-cart-wrapitem w-full">
					{% for cart_item in cart_items_base %}
					<li class="header-cart-item flex-w flex-t m-b-12 mt-3">
						<div class="header-cart-item-img">
							<img src="{{ cart_item.item_product_image.image.url }}" alt="{{ cart_item.item_name }}">
						</div>

						<div class="header-cart-item-txt p-t-8">
							<a href="#" class="header-cart-item-name m-b-18 hov-cl1 trans-04">
								{{ cart_item.item_name }}
							</a>

							<span class="header-cart-item-info">
								{{ cart_item.item_quantity }} x <span style="font-family: Arial, sans-serif;">₹ </span>{{ cart_item.item_discounted_price|intcomma }}
							</span>
						</div>
					</li>
					{% endfor %}
				</ul>
				
				<div class="w-full">
					<div class="header-cart-total w-full p-tb-40">
						Total: <span style="font-family: Arial, sans-serif;">₹ </span>{{ total_cart_price|intcomma }}
					</div>

					<div class="header-cart-buttons d-flex justify-content-center">
						<a href="{% url 'cart_view' %}"
							class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-r-8 m-b-10">
							View Cart
						</a>
					</div>
				</div>
			</div>
			{% else %}
			<div class="m-lr-auto m-b-50">
				<div class="empty-cart d-flex justify-content-center flex-column align-items-center p-t-100">
					<p class="text-center" style="font-size: 20px; font-weight: bold;">Your Cart is Currently Empty</p>
					<p class="text-center" style="margin-bottom: 20px;">Start adding products you love!</p>
					<a href="{% url 'shop_view' %}" class="btn btn-primary" style="padding: 10px 20px; font-size: 16px;">Go to Shop</a>
				</div>
			</div>
			{% endif %}
		</div>
	</div>

{% block content %}
        
{% endblock %}

<footer class="bg3 p-t-75 p-b-32">
	<div class="container">
		<div class="row d-flex justify-content-center">
			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					Categories
				</h4>

				<ul>
					{% for category in categories|slice:":4" %}
					<li class="p-b-10">
						<a href="{% url 'search_products_categoryid' category.slug %}" class="stext-107 cl7 hov-cl1 trans-04">
							{{ category.name }}
						</a>
					</li>
					{% endfor %}

				</ul>
			</div>

			<div class="col-sm-6 col-lg-3 p-b-50">
				<h4 class="stext-301 cl0 p-b-30">
					GET IN TOUCH
				</h4>

				<p class="stext-107 cl7 size-201">
					Any questions? Let us know in store at 1st Floor, Carnival Infopark. Phase 1,
					Infopark Kochi P.O., Kakkanad – 682042 or call us
					on (+91) 8281180914
				</p>

			</div>
		</div>
	</div>
</footer>


<!-- Back to top -->
<div class="btn-back-to-top" id="myBtn">
	<span class="symbol-btn-back-to-top">
		<i class="zmdi zmdi-chevron-up"></i>
	</span>
</div>

<!--===============================================================================================-->
<script src="{% static 'products/vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/animsition/js/animsition.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/bootstrap/js/popper.js' %}"></script>
<script src="{% static 'products/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/select2/select2.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/daterangepicker/moment.min.js' %}"></script>
<script src="{% static 'products/vendor/daterangepicker/daterangepicker.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/slick/slick.min.js' %}"></script>
<script src="{% static 'products/js/slick-custom.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/parallax100/parallax100.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/MagnificPopup/jquery.magnific-popup.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/isotope/isotope.pkgd.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/sweetalert/sweetalert.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/vendor/perfect-scrollbar/perfect-scrollbar.min.js' %}"></script>
<!--===============================================================================================-->
<script src="{% static 'products/js/main.js' %}"></script>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const dropdownToggle = document.getElementById('dropdownMenuButton');
		const dropdownMenu = document.getElementById('dropdownMenu');

		dropdownToggle.addEventListener('click', function(event) {
			event.preventDefault();
			dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
		});

		dropdownToggle.addEventListener('mouseover', function(event) {
			event.preventDefault();
			dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
		});

		window.addEventListener('click', function(event) {
			if (!event.target.matches('.dropdown-toggle')) {
				if (dropdownMenu.style.display === 'block') {
					dropdownMenu.style.display = 'none';
				}
			}
		});
	});
</script>

<script>

	$(document).ready(function() {
		$('.category-container').hover(
			function() {
				$(this).find('.sub-menu-m').stop(true, true).slideDown(200);
			},
			function() {
				$(this).find('.sub-menu-m').stop(true, true).slideUp(200);
			}
		);
	});
		
			
	$('.js-addwish-b2').on('click', function (e) {
		e.preventDefault();
	});

	/*---------------------------------------------*/

	$('.js-pscroll').each(function () {
		$(this).css('position', 'relative');
		$(this).css('overflow', 'hidden');
		var ps = new PerfectScrollbar(this, {
			wheelSpeed: 1,
			scrollingThreshold: 1000,
			wheelPropagation: false,
		});

		$(window).on('resize', function () {
			ps.update();
		})
	});
	$(".js-select2").each(function () {
		$(this).select2({
			minimumResultsForSearch: 20,
			dropdownParent: $(this).next('.dropDownSelect2')
		});
	})
	
	$('.parallax100').parallax100();
	
	$('.gallery-lb').each(function () {
		$(this).magnificPopup({
			delegate: 'a',
			type: 'image',
			gallery: {
				enabled: true
			},
			mainClass: 'mfp-fade'
		});
	});

</script>

{% block script %}

{% endblock %}
